# 文件分享平台

一个现代化的文件分享和社区交流平台，符合Google AdSense要求，支持文件上传、用户互动、私信系统等功能。

## 🚀 主要功能

### 📄 文件管理
- 支持多种文件格式上传 (Markdown, Word, 图片, 视频, 音频)
- 3D卡片式文件展示
- 文件内容预览和查看
- 按上传顺序固定排列

### 👥 用户系统
- 昵称登录系统
- 用户个人资料管理
- 管理员权限系统
- 用户昵称颜色定制

### ❤️ 互动功能
- 点赞和收藏系统
- 评论功能 (登录用户)
- 实时计数显示

### 🔍 搜索功能
- 实时文件搜索
- 按标题相关性排序
- 搜索结果卡片展示

### 💬 私信系统
- 用户间私信交流
- 支持文字和图片消息
- 未读消息提醒
- 消息历史保留一个月

### 🔮 占卜系统
- 每日运势占卜
- 运势等级: 大吉、中吉、小吉、凶、大凶
- 宜忌建议显示
- 每日限制使用

### 📢 广告系统
- Google AdSense集成
- 轮播广告展示
- 符合AdSense政策要求

## 🛠️ 技术栈

- **前端**: Next.js 14, React, TypeScript
- **样式**: Tailwind CSS, Framer Motion
- **后端**: Supabase (数据库, 认证, 存储)
- **部署**: Vercel
- **图标**: Lucide React
- **通知**: React Hot Toast

## 📦 安装和运行

### 环境要求
- Node.js 18+
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 环境配置
1. 复制 `env.example` 为 `.env.local`
2. 填入你的Supabase配置

### 本地开发
```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 查看应用

### 生产构建
```bash
npm run build
npm start
```

## 🗄️ 数据库结构

### 主要表
- `profiles`: 用户资料
- `files`: 文件信息
- `comments`: 评论
- `likes`: 点赞
- `favorites`: 收藏
- `messages`: 私信
- `fortune_history`: 占卜历史

### 安全策略
- Row Level Security (RLS) 已配置
- 用户权限控制
- 数据访问限制

## 🎨 设计特点

- **简约风格**: 符合Google AdSense要求
- **响应式设计**: 完美适配各种设备
- **流畅动画**: 优雅的页面过渡效果
- **现代化UI**: 3D卡片、渐变背景、阴影效果

## 🔧 配置说明

### 管理员账户
- 初始管理员: `平台管理员`
- 密码: `371920029173Abcd`
- 特殊权限: 删除文件、指定新管理员

### 功能限制
- 评论长度: 最多1000字符
- 文件标题: 最多20字符
- 文件描述: 最多30字符
- 私信长度: 最多1000字符
- 消息保留: 15天 (评论), 30天 (私信)

## 📈 性能优化

- 图片懒加载
- 代码分割
- 缓存策略
- CDN加速
- 数据库索引优化

## 🔒 安全特性

- HTTPS强制
- 输入验证
- XSS防护
- SQL注入防护
- 文件类型验证

## 📊 监控和维护

- 错误监控
- 性能监控
- 数据库备份
- 资源使用监控

## 💰 预算控制

- **Vercel**: 免费 tier
- **Supabase**: 免费 tier (500MB/月)
- **域名**: ~$10/年
- **总预算**: 约 $10/年

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

MIT License

## 📞 支持

如有问题或建议，请：
1. 检查 [部署指南](DEPLOYMENT.md)
2. 查看 Supabase 控制台日志
3. 检查浏览器开发者工具

---

**注意**: 这是一个演示项目，生产环境使用前请确保所有安全配置正确。 